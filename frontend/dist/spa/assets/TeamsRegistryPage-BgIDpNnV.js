import{_ as Et,a as Ot,b as jt,c as Ut,d as Dt,e as Qt,f as Mt,g as Nt}from"./quasar-logo-vertical-aqTeathg.js";import{Q as Ge,u as At,a as zt}from"./vm-qSUGPvtL.js";import{Q as Ht}from"./QInput-CNi2zBEZ.js";import{Q as ye}from"./QSeparator-DCXVSXi9.js";import{Q as W}from"./QCheckbox-cCcz-w8e.js";import{Q as K}from"./QBtn-nCgHYuWN.js";import{D as re,K as he,G as c,k as g,r as B,H as ne,W as It,m as ft,X as Wt,Y as Kt,L as Gt,Z as ot,_ as We,$ as nt,a0 as Xt,I as _e,a1 as Yt,a2 as ge,d as Zt,u as rt,z as oe,q as Jt,Q as ea,b as E,f as T,e as u,w as N,t as M,o as V,x as st,n as ta,F as Y,g as Z,h as be,v as J,a3 as aa,a4 as la,i as it,p as ee,l as ut,a as oa}from"./index-Mo4dBhOw.js";import{a as fe,b as na,c as mt}from"./render-DXJ7UJne.js";import{Q as ra}from"./QBadge-l-h_4b-W.js";import{Q as sa}from"./QList-DmTvSCh-.js";import{u as Xe,a as Ye}from"./use-dark-mFa0dIct.js";import{u as ia,a as ua,Q as ca,c as gt}from"./QSelect-Dhcd9TdE.js";import{s as da,g as va}from"./focusout-BuI3YoVi.js";import{u as fa,a as ma,b as ga}from"./use-fullscreen-CWiDTFAD.js";import{Q as ba}from"./QCardSection-Ct4B8z0C.js";import{Q as ya}from"./QCard-Dri9TERK.js";import{Q as _a}from"./QDialog-C0WFBzRC.js";import{C as ha}from"./ClosePopup-BbmzLGBu.js";import{l as Ve,f as Le,d as Be,a as Fe}from"./technologies-DZ1Ymkc2.js";import{_ as wa}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./uid-Bzmka5Fh.js";import"./focus-manager-zjdVGI5d.js";import"./QItemSection-BXYQ52H8.js";import"./selection-DaqN-jlY.js";import"./use-timeout-HZbuKFz0.js";import"./rtl-DFPa-2ov.js";const Ke=re({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:n,emit:r}){const f=he(),{proxy:{$q:i}}=f,_=v=>{r("click",v)};return()=>{if(e.props===void 0)return c("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:_},fe(n.default));let v,b;const y=f.vnode.key;if(y){if(v=e.props.colsMap[y],v===void 0)return}else v=e.props.col;if(v.sortable===!0){const s=v.align==="right"?"unshift":"push";b=na(n.default,[]),b[s](c(Ge,{class:v.__iconClass,name:i.iconSet.table.arrowUp}))}else b=fe(n.default);const q={class:v.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:v.headerStyle,onClick:s=>{v.sortable===!0&&e.props.sort(v),_(s)}};return c("th",q,b)}}}),He=re({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:n}){const r=g(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>c("tr",{style:e.props?.__trStyle,class:r.value},fe(n.default))}}),Ie=re({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:n}){const r=he(),f=g(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return c("td",{class:f.value},fe(n.default));const i=r.vnode.key,_=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(_===void 0)return;const{row:v}=e.props;return c("td",{class:f.value+_.__tdClass(v),style:_.__tdStyle(v)},fe(n.default))}}}),Sa=["horizontal","vertical","cell","none"],ka=re({name:"QMarkupTable",props:{...Xe,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Sa.includes(e)}},setup(e,{slots:n}){const r=he(),f=Ye(e,r.proxy.$q),i=g(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(f.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>c("div",{class:i.value},[c("table",{class:"q-table"},fe(n.default))])}});function bt(e,n){return c("div",e,[c("table",{class:"q-table"},n)])}const Ca={list:sa,table:ka},qa=["list","table","__qtable"],pa=re({name:"QVirtualScroll",props:{...ia,type:{type:String,default:"list",validator:e=>qa.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:da},setup(e,{slots:n,attrs:r}){let f;const i=B(null),_=g(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:v,localResetVirtualScroll:b,padVirtualScroll:y,onVirtualScrollEvt:q}=ua({virtualScrollLength:_,getVirtualScrollTarget:R,getVirtualScrollEl:x}),s=g(()=>{if(_.value===0)return[];const Q=(D,L)=>({index:v.value.from+L,item:D});return e.itemsFn===void 0?e.items.slice(v.value.from,v.value.to).map(Q):e.itemsFn(v.value.from,v.value.to-v.value.from).map(Q)}),k=g(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),P=g(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ne(_,()=>{b()}),ne(()=>e.scrollTarget,()=>{m(),p()});function x(){return i.value.$el||i.value}function R(){return f}function p(){f=va(x(),e.scrollTarget),f.addEventListener("scroll",q,ot.passive)}function m(){f!==void 0&&(f.removeEventListener("scroll",q,ot.passive),f=void 0)}function O(){let Q=y(e.type==="list"?"div":"tbody",s.value.map(n.default));return n.before!==void 0&&(Q=n.before().concat(Q)),mt(n.after,Q)}return It(()=>{b()}),ft(()=>{p()}),Wt(()=>{p()}),Kt(()=>{m()}),Gt(()=>{m()}),()=>{if(n.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?bt({ref:i,class:"q-table__middle "+k.value},O()):c(Ca[e.type],{...r,ref:i,class:[r.class,k.value],...P.value},O)}}}),Pa={xs:2,sm:4,md:6,lg:10,xl:14};function ct(e,n,r){return{transform:n===!0?`translateX(${r.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const xa=re({name:"QLinearProgress",props:{...Xe,...At,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:n}){const{proxy:r}=he(),f=Ye(e,r.$q),i=zt(e,Pa),_=g(()=>e.indeterminate===!0||e.query===!0),v=g(()=>e.reverse!==e.query),b=g(()=>({...i.value!==null?i.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),y=g(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),q=g(()=>ct(e.buffer!==void 0?e.buffer:1,v.value,r.$q)),s=g(()=>`with${e.instantFeedback===!0?"out":""}-transition`),k=g(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${s.value} q-linear-progress__track--${f.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),P=g(()=>ct(_.value===!0?1:e.value,v.value,r.$q)),x=g(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${s.value} q-linear-progress__model--${_.value===!0?"in":""}determinate`),R=g(()=>({width:`${e.value*100}%`})),p=g(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${s.value}`);return()=>{const m=[c("div",{class:k.value,style:q.value}),c("div",{class:x.value,style:P.value})];return e.stripe===!0&&_.value===!1&&m.push(c("div",{class:p.value,style:R.value})),c("div",{class:y.value,style:b.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},mt(n.default,m))}}});function Ra(e,n){return new Date(e)-new Date(n)}const Ta={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Va(e,n,r,f){const i=g(()=>{const{sortBy:b}=n.value;return b&&r.value.find(y=>y.name===b)||null}),_=g(()=>e.sortMethod!==void 0?e.sortMethod:(b,y,q)=>{const s=r.value.find(x=>x.name===y);if(s===void 0||s.field===void 0)return b;const k=q===!0?-1:1,P=typeof s.field=="function"?x=>s.field(x):x=>x[s.field];return b.sort((x,R)=>{let p=P(x),m=P(R);return s.rawSort!==void 0?s.rawSort(p,m,x,R)*k:p==null?-1*k:m==null?1*k:s.sort!==void 0?s.sort(p,m,x,R)*k:We(p)===!0&&We(m)===!0?(p-m)*k:nt(p)===!0&&nt(m)===!0?Ra(p,m)*k:typeof p=="boolean"&&typeof m=="boolean"?(p-m)*k:([p,m]=[p,m].map(O=>(O+"").toLocaleString().toLowerCase()),p<m?-1*k:p===m?0:k)})});function v(b){let y=e.columnSortOrder;if(Xt(b)===!0)b.sortOrder&&(y=b.sortOrder),b=b.name;else{const k=r.value.find(P=>P.name===b);k?.sortOrder&&(y=k.sortOrder)}let{sortBy:q,descending:s}=n.value;q!==b?(q=b,s=y==="da"):e.binaryStateSort===!0?s=!s:s===!0?y==="ad"?q=null:s=!1:y==="ad"?s=!0:q=null,f({sortBy:q,descending:s,page:1})}return{columnToSort:i,computedSortMethod:_,sort:v}}const La={filter:[String,Object],filterMethod:Function};function Ba(e,n){const r=g(()=>e.filterMethod!==void 0?e.filterMethod:(f,i,_,v)=>{const b=i?i.toLowerCase():"";return f.filter(y=>_.some(q=>{const s=v(q,y)+"";return(s==="undefined"||s==="null"?"":s.toLowerCase()).indexOf(b)!==-1}))});return ne(()=>e.filter,()=>{_e(()=>{n({page:1},!0)})},{deep:!0}),{computedFilterMethod:r}}function Fa(e,n){for(const r in n)if(n[r]!==e[r])return!1;return!0}function dt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const $a={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Ea(e,n){const{props:r,emit:f}=e,i=B(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:r.rowsPerPageOptions.length!==0?r.rowsPerPageOptions[0]:5},r.pagination)),_=g(()=>{const s=r["onUpdate:pagination"]!==void 0?{...i.value,...r.pagination}:i.value;return dt(s)}),v=g(()=>_.value.rowsNumber!==void 0);function b(s){y({pagination:s,filter:r.filter})}function y(s={}){_e(()=>{f("request",{pagination:s.pagination||_.value,filter:s.filter||r.filter,getCellValue:n})})}function q(s,k){const P=dt({..._.value,...s});if(Fa(_.value,P)===!0){v.value===!0&&k===!0&&b(P);return}if(v.value===!0){b(P);return}r.pagination!==void 0&&r["onUpdate:pagination"]!==void 0?f("update:pagination",P):i.value=P}return{innerPagination:i,computedPagination:_,isServerSide:v,requestServerInteraction:y,setPagination:q}}function Oa(e,n,r,f,i,_){const{props:v,emit:b,proxy:{$q:y}}=e,q=g(()=>f.value===!0?r.value.rowsNumber||0:_.value),s=g(()=>{const{page:L,rowsPerPage:j}=r.value;return(L-1)*j}),k=g(()=>{const{page:L,rowsPerPage:j}=r.value;return L*j}),P=g(()=>r.value.page===1),x=g(()=>r.value.rowsPerPage===0?1:Math.max(1,Math.ceil(q.value/r.value.rowsPerPage))),R=g(()=>k.value===0?!0:r.value.page>=x.value),p=g(()=>(v.rowsPerPageOptions.includes(n.value.rowsPerPage)?v.rowsPerPageOptions:[n.value.rowsPerPage].concat(v.rowsPerPageOptions)).map(j=>({label:j===0?y.lang.table.allRows:""+j,value:j})));ne(x,(L,j)=>{if(L===j)return;const se=r.value.page;L&&!se?i({page:1}):L<se&&i({page:L})});function m(){i({page:1})}function O(){const{page:L}=r.value;L>1&&i({page:L-1})}function Q(){const{page:L,rowsPerPage:j}=r.value;k.value>0&&L*j<q.value&&i({page:L+1})}function D(){i({page:x.value})}return v["onUpdate:pagination"]!==void 0&&b("update:pagination",{...r.value}),{firstRowIndex:s,lastRowIndex:k,isFirstPage:P,isLastPage:R,pagesNumber:x,computedRowsPerPageOptions:p,computedRowsNumber:q,firstPage:m,prevPage:O,nextPage:Q,lastPage:D}}const ja={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Ua=["update:selected","selection"];function Da(e,n,r,f){const i=g(()=>{const R={};return e.selected.map(f.value).forEach(p=>{R[p]=!0}),R}),_=g(()=>e.selection!=="none"),v=g(()=>e.selection==="single"),b=g(()=>e.selection==="multiple"),y=g(()=>r.value.length!==0&&r.value.every(R=>i.value[f.value(R)]===!0)),q=g(()=>y.value!==!0&&r.value.some(R=>i.value[f.value(R)]===!0)),s=g(()=>e.selected.length);function k(R){return i.value[R]===!0}function P(){n("update:selected",[])}function x(R,p,m,O){n("selection",{rows:p,added:m,keys:R,evt:O});const Q=v.value===!0?m===!0?p:[]:m===!0?e.selected.concat(p):e.selected.filter(D=>R.includes(f.value(D))===!1);n("update:selected",Q)}return{hasSelectionMode:_,singleSelection:v,multipleSelection:b,allRowsSelected:y,someRowsSelected:q,rowsSelectedNumber:s,isRowSelected:k,clearSelection:P,updateSelection:x}}function vt(e){return Array.isArray(e)?e.slice():[]}const Qa={expanded:Array},Ma=["update:expanded"];function Na(e,n){const r=B(vt(e.expanded));ne(()=>e.expanded,v=>{r.value=vt(v)});function f(v){return r.value.includes(v)}function i(v){e.expanded!==void 0?n("update:expanded",v):r.value=v}function _(v,b){const y=r.value.slice(),q=y.indexOf(v);b===!0?q===-1&&(y.push(v),i(y)):q!==-1&&(y.splice(q,1),i(y))}return{isRowExpanded:f,setExpanded:i,updateExpanded:_}}const Aa={visibleColumns:Array};function za(e,n,r){const f=g(()=>{if(e.columns!==void 0)return e.columns;const b=e.rows[0];return b!==void 0?Object.keys(b).map(y=>({name:y,label:y.toUpperCase(),field:y,align:We(b[y])?"right":"left",sortable:!0})):[]}),i=g(()=>{const{sortBy:b,descending:y}=n.value;return(e.visibleColumns!==void 0?f.value.filter(s=>s.required===!0||e.visibleColumns.includes(s.name)===!0):f.value).map(s=>{const k=s.align||"right",P=`text-${k}`;return{...s,align:k,__iconClass:`q-table__sort-icon q-table__sort-icon--${k}`,__thClass:P+(s.headerClasses!==void 0?" "+s.headerClasses:"")+(s.sortable===!0?" sortable":"")+(s.name===b?` sorted ${y===!0?"sort-desc":""}`:""),__tdStyle:s.style!==void 0?typeof s.style!="function"?()=>s.style:s.style:()=>null,__tdClass:s.classes!==void 0?typeof s.classes!="function"?()=>P+" "+s.classes:x=>P+" "+s.classes(x):()=>P}})}),_=g(()=>{const b={};return i.value.forEach(y=>{b[y.name]=y}),b}),v=g(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(r.value===!0?1:0));return{colList:f,computedCols:i,computedColsMap:_,computedColspan:v}}const $e="q-table__bottom row items-center",yt={};gt.forEach(e=>{yt[e]={}});const Ha=re({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...yt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Xe,...ma,...Aa,...La,...$a,...Qa,...ja,...Ta},emits:["request","virtualScroll",...fa,...Ma,...Ua],setup(e,{slots:n,emit:r}){const f=he(),{proxy:{$q:i}}=f,_=Ye(e,i),{inFullscreen:v,toggleFullscreen:b}=ga(),y=g(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),q=B(null),s=B(null),k=g(()=>e.grid!==!0&&e.virtualScroll===!0),P=g(()=>" q-table__card"+(_.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),x=g(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":P.value)+(_.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(v.value===!0?" fullscreen scroll":"")),R=g(()=>x.value+(e.loading===!0?" q-table--loading":""));ne(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+x.value,()=>{k.value===!0&&s.value?.reset()});const{innerPagination:p,computedPagination:m,isServerSide:O,requestServerInteraction:Q,setPagination:D}=Ea(f,de),{computedFilterMethod:L}=Ba(e,D),{isRowExpanded:j,setExpanded:se,updateExpanded:Ee}=Na(e,r),te=g(()=>{let t=e.rows;if(O.value===!0||t.length===0)return t;const{sortBy:d,descending:w}=m.value;return e.filter&&(t=L.value(t,e.filter,H.value,de)),X.value!==null&&(t=Ue.value(e.rows===t?t.slice():t,d,w)),t}),G=g(()=>te.value.length),z=g(()=>{let t=te.value;if(O.value===!0)return t;const{rowsPerPage:d}=m.value;return d!==0&&(ae.value===0&&e.rows!==t?t.length>o.value&&(t=t.slice(0,o.value)):t=t.slice(ae.value,o.value)),t}),{hasSelectionMode:A,singleSelection:Oe,multipleSelection:we,allRowsSelected:Se,someRowsSelected:ke,rowsSelectedNumber:ie,isRowSelected:me,clearSelection:je,updateSelection:ue}=Da(e,r,z,y),{colList:Ce,computedCols:H,computedColsMap:qe,computedColspan:pe}=za(e,m,A),{columnToSort:X,computedSortMethod:Ue,sort:ce}=Va(e,m,Ce,D),{firstRowIndex:ae,lastRowIndex:o,isFirstPage:l,isLastPage:a,pagesNumber:h,computedRowsPerPageOptions:Pe,computedRowsNumber:xe,firstPage:De,prevPage:Qe,nextPage:Me,lastPage:Ne}=Oa(f,p,m,O,D,G),_t=g(()=>z.value.length===0),ht=g(()=>{const t={};return gt.forEach(d=>{t[d]=e[d]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function wt(){k.value===!0&&s.value.reset()}function St(){if(e.grid===!0)return Ft();const t=e.hideHeader!==!0?at:null;if(k.value===!0){const w=n["top-row"],S=n["bottom-row"],C={default:U=>Je(U.item,n.body,U.index)};if(w!==void 0){const U=c("tbody",w({cols:H.value}));C.before=t===null?()=>U:()=>[t()].concat(U)}else t!==null&&(C.before=t);return S!==void 0&&(C.after=()=>c("tbody",S({cols:H.value}))),c(pa,{ref:s,class:e.tableClass,style:e.tableStyle,...ht.value,scrollTarget:e.virtualScrollTarget,items:z.value,type:"__qtable",tableColspan:pe.value,onVirtualScroll:Ct},C)}const d=[qt()];return t!==null&&d.unshift(t()),bt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},d)}function kt(t,d){if(s.value!==null){s.value.scrollTo(t,d);return}t=parseInt(t,10);const w=q.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(w!==null){const S=q.value.querySelector(".q-table__middle.scroll"),C=w.offsetTop-e.virtualScrollStickySizeStart,U=C<S.scrollTop?"decrease":"increase";S.scrollTop=C,r("virtualScroll",{index:t,from:0,to:p.value.rowsPerPage-1,direction:U})}}function Ct(t){r("virtualScroll",t)}function Ze(){return[c(xa,{class:"q-table__linear-progress",color:e.color,dark:_.value,indeterminate:!0,trackColor:"transparent"})]}function Je(t,d,w){const S=y.value(t),C=me(S);if(d!==void 0){const $={key:S,row:t,pageIndex:w,__trClass:C?"selected":""};if(e.tableRowStyleFn!==void 0&&($.__trStyle=e.tableRowStyleFn(t)),e.tableRowClassFn!==void 0){const le=e.tableRowClassFn(t);le&&($.__trClass=`${le} ${$.__trClass}`)}return d(et($))}const U=n["body-cell"],F=H.value.map($=>{const le=n[`body-cell-${$.name}`],Te=le!==void 0?le:U;return Te!==void 0?Te(pt({key:S,row:t,pageIndex:w,col:$})):c("td",{class:$.__tdClass(t),style:$.__tdStyle(t)},de($,t))});if(A.value===!0){const $=n["body-selection"],le=$!==void 0?$(Pt({key:S,row:t,pageIndex:w})):[c(W,{modelValue:C,color:e.color,dark:_.value,dense:e.dense,"onUpdate:modelValue":(Te,$t)=>{ue([S],[t],Te,$t)}})];F.unshift(c("td",{class:"q-table--col-auto-width"},le))}const I={key:S,class:{selected:C}};if(e.onRowClick!==void 0&&(I.class["cursor-pointer"]=!0,I.onClick=$=>{r("rowClick",$,t,w)}),e.onRowDblclick!==void 0&&(I.class["cursor-pointer"]=!0,I.onDblclick=$=>{r("rowDblclick",$,t,w)}),e.onRowContextmenu!==void 0&&(I.class["cursor-pointer"]=!0,I.onContextmenu=$=>{r("rowContextmenu",$,t,w)}),e.tableRowStyleFn!==void 0&&(I.style=e.tableRowStyleFn(t)),e.tableRowClassFn!==void 0){const $=e.tableRowClassFn(t);$&&(I.class[$]=!0)}return c("tr",I,F)}function qt(){const t=n.body,d=n["top-row"],w=n["bottom-row"];let S=z.value.map((C,U)=>Je(C,t,U));return d!==void 0&&(S=d({cols:H.value}).concat(S)),w!==void 0&&(S=S.concat(w({cols:H.value}))),c("tbody",S)}function et(t){return Ae(t),t.cols=t.cols.map(d=>ge({...d},"value",()=>de(d,t.row))),t}function pt(t){return Ae(t),ge(t,"value",()=>de(t.col,t.row)),t}function Pt(t){return Ae(t),t}function Ae(t){Object.assign(t,{cols:H.value,colsMap:qe.value,sort:ce,rowIndex:ae.value+t.pageIndex,color:e.color,dark:_.value,dense:e.dense}),A.value===!0&&ge(t,"selected",()=>me(t.key),(d,w)=>{ue([t.key],[t.row],d,w)}),ge(t,"expand",()=>j(t.key),d=>{Ee(t.key,d)})}function de(t,d){const w=typeof t.field=="function"?t.field(d):d[t.field];return t.format!==void 0?t.format(w,d):w}const ve=g(()=>({pagination:m.value,pagesNumber:h.value,isFirstPage:l.value,isLastPage:a.value,firstPage:De,prevPage:Qe,nextPage:Me,lastPage:Ne,inFullscreen:v.value,toggleFullscreen:b}));function xt(){const t=n.top,d=n["top-left"],w=n["top-right"],S=n["top-selection"],C=A.value===!0&&S!==void 0&&ie.value>0,U="q-table__top relative-position row items-center";if(t!==void 0)return c("div",{class:U},[t(ve.value)]);let F;if(C===!0?F=S(ve.value).slice():(F=[],d!==void 0?F.push(c("div",{class:"q-table__control"},[d(ve.value)])):e.title&&F.push(c("div",{class:"q-table__control"},[c("div",{class:["q-table__title",e.titleClass]},e.title)]))),w!==void 0&&(F.push(c("div",{class:"q-table__separator col"})),F.push(c("div",{class:"q-table__control"},[w(ve.value)]))),F.length!==0)return c("div",{class:U},F)}const tt=g(()=>ke.value===!0?null:Se.value);function at(){const t=Rt();return e.loading===!0&&n.loading===void 0&&t.push(c("tr",{class:"q-table__progress"},[c("th",{class:"relative-position",colspan:pe.value},Ze())])),c("thead",t)}function Rt(){const t=n.header,d=n["header-cell"];if(t!==void 0)return t(ze({header:!0})).slice();const w=H.value.map(S=>{const C=n[`header-cell-${S.name}`],U=C!==void 0?C:d,F=ze({col:S});return U!==void 0?U(F):c(Ke,{key:S.name,props:F},()=>S.label)});if(Oe.value===!0&&e.grid!==!0)w.unshift(c("th",{class:"q-table--col-auto-width"}," "));else if(we.value===!0){const S=n["header-selection"],C=S!==void 0?S(ze({})):[c(W,{color:e.color,modelValue:tt.value,dark:_.value,dense:e.dense,"onUpdate:modelValue":lt})];w.unshift(c("th",{class:"q-table--col-auto-width"},C))}return[c("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},w)]}function ze(t){return Object.assign(t,{cols:H.value,sort:ce,colsMap:qe.value,color:e.color,dark:_.value,dense:e.dense}),we.value===!0&&ge(t,"selected",()=>tt.value,lt),t}function lt(t){ke.value===!0&&(t=!1),ue(z.value.map(y.value),z.value,t)}const Re=g(()=>{const t=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?t.reverse():t});function Tt(){if(e.hideBottom===!0)return;if(_t.value===!0){if(e.hideNoData===!0)return;const w=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,S=n["no-data"],C=S!==void 0?[S({message:w,icon:i.iconSet.table.warning,filter:e.filter})]:[c(Ge,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),w];return c("div",{class:$e+" q-table__bottom--nodata"},C)}const t=n.bottom;if(t!==void 0)return c("div",{class:$e},[t(ve.value)]);const d=e.hideSelectedBanner!==!0&&A.value===!0&&ie.value>0?[c("div",{class:"q-table__control"},[c("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(ie.value)])])]:[];if(e.hidePagination!==!0)return c("div",{class:$e+" justify-end"},Lt(d));if(d.length!==0)return c("div",{class:$e},d)}function Vt(t){D({page:1,rowsPerPage:t.value})}function Lt(t){let d;const{rowsPerPage:w}=m.value,S=e.paginationLabel||i.lang.table.pagination,C=n.pagination,U=e.rowsPerPageOptions.length>1;if(t.push(c("div",{class:"q-table__separator col"})),U===!0&&t.push(c("div",{class:"q-table__control"},[c("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),c(ca,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:w,options:Pe.value,displayValue:w===0?i.lang.table.allRows:w,dark:_.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Vt})])),C!==void 0)d=C(ve.value);else if(d=[c("span",w!==0?{class:"q-table__bottom-item"}:{},[w?S(ae.value+1,Math.min(o.value,xe.value),xe.value):S(1,G.value,xe.value)])],w!==0&&h.value>1){const F={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(F.size="sm"),h.value>2&&d.push(c(K,{key:"pgFirst",...F,icon:Re.value[0],disable:l.value,ariaLabel:i.lang.pagination.first,onClick:De})),d.push(c(K,{key:"pgPrev",...F,icon:Re.value[1],disable:l.value,ariaLabel:i.lang.pagination.prev,onClick:Qe}),c(K,{key:"pgNext",...F,icon:Re.value[2],disable:a.value,ariaLabel:i.lang.pagination.next,onClick:Me})),h.value>2&&d.push(c(K,{key:"pgLast",...F,icon:Re.value[3],disable:a.value,ariaLabel:i.lang.pagination.last,onClick:Ne}))}return t.push(c("div",{class:"q-table__control"},d)),t}function Bt(){const t=e.gridHeader===!0?[c("table",{class:"q-table"},[at()])]:e.loading===!0&&n.loading===void 0?Ze():void 0;return c("div",{class:"q-table__middle"},t)}function Ft(){const t=n.item!==void 0?n.item:d=>{const w=d.cols.map(C=>c("div",{class:"q-table__grid-item-row"},[c("div",{class:"q-table__grid-item-title"},[C.label]),c("div",{class:"q-table__grid-item-value"},[C.value])]));if(A.value===!0){const C=n["body-selection"],U=C!==void 0?C(d):[c(W,{modelValue:d.selected,color:e.color,dark:_.value,dense:e.dense,"onUpdate:modelValue":(F,I)=>{ue([d.key],[d.row],F,I)}})];w.unshift(c("div",{class:"q-table__grid-item-row"},U),c(ye,{dark:_.value}))}const S={class:["q-table__grid-item-card"+P.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(S.style=[S.style,e.cardStyleFn(d.row)]),e.cardClassFn!==void 0){const C=e.cardClassFn(d.row);C&&(S.class[0]+=` ${C}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(S.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(S.onClick=C=>{r("RowClick",C,d.row,d.pageIndex)}),e.onRowDblclick!==void 0&&(S.onDblclick=C=>{r("RowDblclick",C,d.row,d.pageIndex)}),e.onRowContextmenu!==void 0&&(S.onContextmenu=C=>{r("rowContextmenu",C,d.row,d.pageIndex)})),c("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(d.selected===!0?" q-table__grid-item--selected":"")},[c("div",S,w)])};return c("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},z.value.map((d,w)=>t(et({key:y.value(d),row:d,pageIndex:w}))))}return Object.assign(f.proxy,{requestServerInteraction:Q,setPagination:D,firstPage:De,prevPage:Qe,nextPage:Me,lastPage:Ne,isRowSelected:me,clearSelection:je,isRowExpanded:j,setExpanded:se,sort:ce,resetVirtualScroll:wt,scrollTo:kt,getCellValue:de}),Yt(f.proxy,{filteredSortedRows:()=>te.value,computedRows:()=>z.value,computedRowsNumber:()=>xe.value}),()=>{const t=[xt()],d={ref:q,class:R.value};return e.grid===!0?t.push(Bt()):Object.assign(d,{class:[d.class,e.cardClass],style:e.cardStyle}),t.push(St(),Tt()),e.loading===!0&&n.loading!==void 0&&t.push(n.loading()),c("div",d,t)}}}),Ia={class:"teams_container"},Wa={key:0},Ka={key:1},Ga={key:2},Xa={key:3,style:{width:"90vw",display:"flex","justify-content":"flex-start","flex-direction":"column","align-items":"center"}},Ya={class:"panel description"},Za={class:"content-wrapper"},Ja={class:"filters-container"},el={class:"filters"},tl={style:{width:"90%",display:"flex","justify-content":"center",margin:"0","justify-self":"center"}},al={style:{width:"90%",display:"flex","justify-content":"center",margin:"0","justify-self":"center"}},ll={class:"table-container"},ol={class:"text-left q-pa-md"},nl={class:"team-data-container"},rl={class:"block",style:{"margin-right":"50px"}},sl={class:"panel",style:{width:"100%"}},il={class:"teamTitle"},ul={class:"panel",style:{width:"100%"}},cl={class:"description"},dl={class:"panel team-info"},vl={key:0},fl={class:"stack-panel"},ml={class:"stack-card"},gl={key:1},bl={class:"panel members-panel"},yl={class:"members-list"},_l={key:0,class:"panel member-item"},hl={class:"member-info"},wl={class:"member-avatar"},Sl=["src","onError"],kl={class:"member-details"},Cl={class:"member-name"},ql={class:"member-email"},pl={class:"member-info"},Pl={class:"member-avatar"},xl=["src","onError"],Rl={class:"member-details"},Tl={class:"member-name"},Vl={class:"member-email"},Ll={style:{display:"flex","justify-content":"space-between","flex-direction":"row"}},Bl={class:"stack-container"},Fl={class:"technologies"},$l={class:"stack-list"},El={class:"stack-list"},Ol={class:"stack-list"},jl={class:"stack-list"},Ul=Zt({__name:"TeamsRegistryPage",setup(e){const n=Jt(),r=oa(),f=B(null),i=B(null),_=B(!0),v=B(!1),b=rt().getUser,y=B([]),q={close:"Закрыта",open:"Открыта"},s=B(!1),k=B(!1),P=B(!1),x=B(!1),R=B(""),p=B(!1),m=B({}),O=B({}),Q=o=>{const l=new Date(o),a=h=>h.toString().padStart(2,"0");return`${a(l.getDate())}.${a(l.getMonth()+1)}.${l.getFullYear()}, ${a(l.getHours())}:${a(l.getMinutes())}`},D=B({}),L=B({}),j=B({}),se=o=>new URL(Object.assign({"../assets/1af82c8ed1916d70e58f662999ce7461.jpg":Nt,"../assets/avatar_alt.png":Mt,"../assets/i_so_tired.png":Qt,"../assets/logo.png":Dt,"../assets/logout.png":Ut,"../assets/photo_2024-05-16_09-57-47.jpg":jt,"../assets/photo_2024-08-05_19-14-54.jpg":Ot,"../assets/quasar-logo-vertical.svg":Et})[`../assets/${o}`],import.meta.url).href,Ee=async o=>{f.value===o?(await r.push({name:"teams-registry"}),f.value=null):(await r.push({name:"team-detail",params:{teamId:o}}),f.value=o)},te=async()=>{if(await _e(),f.value){const o=document.querySelector(`[data-team-id="${f.value}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"start"})},100))}},G=B({}),z=B({}),A=B(se("avatar_alt.png")),Oe=async o=>{try{const l=await oe.get(`user/avatar/${o}`,{responseType:"blob"}),a=URL.createObjectURL(l.data);z.value[o]=a,G.value[o]=a}catch(l){console.error(`Ошибка загрузки аватара для пользователя ${o}:`,l),G.value[o]=A.value}},we=o=>o>9?o%10===1&&Math.floor(o/10)%10!==1?"параметр":o%10>=2&&o%10<=4&&Math.floor(o/10)%10!==1?"параметра":"параметров":o%10===1?"параметр":o%10>=2&&o%10<=4?"параметра":"параметров",Se=()=>{Ve.forEach(o=>m.value[o]=!1),Le.forEach(o=>m.value[o]=!1),Be.forEach(o=>m.value[o]=!1),Fe.forEach(o=>m.value[o]=!1)},ke=async o=>{if(!D.value[o]&&!L.value[o]&&!j.value[o])try{const l=await oe.get(`user/${o}`),a=`${l.data.firstname} ${l.data.lastname}`;D.value[o]=a,j.value[o]=a,L.value[o]=l.data.mail}catch{const l="Неизвестно";D.value[o]=l,j.value[o]=l,L.value[o]=l}},ie=(o,l)=>y.value.some(a=>a.teamId===o)||l===b.id,me=o=>o.length>20?o.substring(0,20)+"...":o,je=B({rowsPerPage:0}),ue=[{name:"title",required:!0,label:"Название",align:"left",field:o=>me(o.title),sortable:!0},{name:"private",label:"Приватность",align:"left",field:o=>q[o.status]||o.status,sortable:!0},{name:"members",label:"Участники",align:"center",field:o=>o.members.length+1,sortable:!0},{name:"status",label:"Статус",align:"left",field:o=>o.currentProjectId?"В работе":"В поисках",sortable:!0},{name:"createdAt",label:"Дата создания",align:"left",field:o=>Q(o.createdAt),sortable:!0}],Ce=g(()=>i.value?i.value.filter(o=>{const l=R.value===""||o.title.toLowerCase().includes(R.value.toLowerCase())||o.description.toLowerCase().includes(R.value.toLowerCase()),a=!s.value&&!k.value||s.value&&o.status==="open"||k.value&&o.status==="close",h=X()===0||Ue(o.id),Pe=!P.value&&!x.value||P.value&&!o.currentProjectId||x.value&&o.currentProjectId;return l&&a&&Pe&&h}):[]),H=()=>{s.value=!1,k.value=!1,P.value=!1,x.value=!1,R.value="",Se()},qe=async o=>{const l=rt().getUser?.id;try{await oe.post("/team-request",{userId:l,teamId:o}),y.value=(await oe.get(`team-request/${b?.id}`)).data,ut.success("Заявка подана")}catch(a){const h=a.response?.data.message;ut.error(h)}},pe=async o=>{try{return(await oe.get(`/teams/stack/${o}`)).data}catch(l){return console.error(`Ошибка загрузки стека для команды ${o}:`,l),[]}},X=()=>{let o=0;return Ve.forEach(l=>{m.value[l]===!0&&(o+=1)}),Be.forEach(l=>{m.value[l]===!0&&(o+=1)}),Fe.forEach(l=>{m.value[l]===!0&&(o+=1)}),Le.forEach(l=>{m.value[l]===!0&&(o+=1)}),o},Ue=o=>{let l=!0;return Ve.forEach(a=>{m.value[a]===!0&&O.value[o]?.includes(a)===!1&&(l=!1)}),Be.forEach(a=>{m.value[a]===!0&&O.value[o]?.includes(a)===!1&&(l=!1)}),Le.forEach(a=>{m.value[a]===!0&&O.value[o]?.includes(a)===!1&&(l=!1)}),Fe.forEach(a=>{m.value[a]===!0&&O.value[o]?.includes(a)===!1&&(l=!1)}),l},ce=async(o,l)=>{f.value===l.id?(await r.push({name:"teams-registry"}),f.value=null):(await r.push({name:"team-detail",params:{teamId:l.id}}),f.value=l.id,await te())};ne(()=>n.params.teamId,async o=>{if(o){const l=Number(o);i.value?.some(a=>a.id===l)&&(f.value=l,await _e(),await te())}},{immediate:!0});const ae=()=>{n.params.teamId?f.value=Number(n.params.teamId):f.value=null};return ft(async()=>{try{window.addEventListener("popstate",ae);const o=await oe.get("/teams/all");i.value=o.data,Se(),y.value=(await oe.get(`team-request/${b?.id}`)).data;const l=new Set;if(i.value.forEach(a=>{l.add(a.teamLeaderId),a.members.forEach(h=>l.add(Number(h)))}),await Promise.all(i.value.map(async a=>{O.value[a.id]=await pe(a.id)})),await Promise.all([...Array.from(l).map(a=>ke(a)),...Array.from(l).map(a=>Oe(a))]),n.params.teamId){const a=Number(n.params.teamId);i.value.some(h=>h.id===a)&&(f.value=a,await _e(),setTimeout(()=>{te().catch(h=>console.error("Scroll error:",h))},300))}}catch(o){console.error("Ошибка при загрузке команд:",o),v.value=!0}finally{_.value=!1}}),ea(()=>{Object.values(z.value).forEach(o=>{URL.revokeObjectURL(o)}),window.removeEventListener("popstate",ae)}),(o,l)=>(V(),E("div",Ia,[_.value?(V(),E("div",Wa,"Загрузка...")):v.value?(V(),E("div",Ka,"Ошибка при загрузке данных")):i.value?(V(),E("div",Xa,[T(Ht,{rounded:"",outlined:"","bg-color":"grey-1",placeholder:"Поиск",modelValue:R.value,"onUpdate:modelValue":l[1]||(l[1]=a=>R.value=a),style:{"margin-top":"50px",width:"80%"}},{append:N(()=>[T(Ge,{name:"close",onClick:l[0]||(l[0]=a=>R.value=""),class:"cursor-pointer"})]),_:1},8,["modelValue"]),u("div",Ya,[u("p",null,"Найденно команд: "+M(Ce.value.length),1)]),u("div",Za,[u("div",Ja,[u("div",el,[l[8]||(l[8]=u("p",{class:"filters-title",style:{"text-align":"center"}},"Фильтры",-1)),T(ye),l[9]||(l[9]=u("p",{class:"filters-part",style:{"text-align":"center"}},[u("strong",null,"Приватность")],-1)),u("div",null,[T(W,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=a=>s.value=a),label:"Открыта",class:"filters-part"},null,8,["modelValue"])]),T(W,{modelValue:k.value,"onUpdate:modelValue":l[3]||(l[3]=a=>k.value=a),label:"Закрыта",class:"filters-part"},null,8,["modelValue"]),T(ye),l[10]||(l[10]=u("p",{class:"filters-part",style:{"text-align":"center"}},[u("strong",null,"Статус")],-1)),u("div",null,[T(W,{modelValue:P.value,"onUpdate:modelValue":l[4]||(l[4]=a=>P.value=a),label:"В поисках",class:"filters-part"},null,8,["modelValue"])]),T(W,{modelValue:x.value,"onUpdate:modelValue":l[5]||(l[5]=a=>x.value=a),label:"В работе",class:"filters-part"},null,8,["modelValue"]),T(ye),l[11]||(l[11]=u("p",{class:"filters-part",style:{"text-align":"center"}},[u("strong",null,"Стек")],-1)),u("div",tl,[T(K,{filled:X()===0,outline:X()!==0,dense:"",color:"primary",label:X()===0?"Выбрать стек":X()+" "+we(X()),class:"stack-btn",onClick:l[6]||(l[6]=a=>p.value=!0),style:{"border-radius":"10px"}},null,8,["filled","outline","label"])]),T(ye),u("div",al,[T(K,{outline:"",dense:"",color:"primary",label:"Сбросить",onClick:H,class:"reset-btn",style:{"border-radius":"10px"}})])])]),u("div",ll,[T(Ha,{flat:"",bordered:"",rows:Ce.value,columns:ue,pagination:je.value,"hide-pagination":"","virtual-scroll":"","virtual-scroll-item-size":48,"row-key":"id",onRowClick:ce,style:{"border-radius":"15px",background:"linear-gradient(180deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0))","backdrop-filter":"blur(5px)","box-shadow":"0 0px 1px 0 rgba(0, 0, 0, 0.37)",border:"1px solid rgba(141, 183, 202, 0.342)",width:"100%",height:"auto","max-height":"none"}},{header:N(a=>[T(He,{props:a},{default:N(()=>[(V(!0),E(Y,null,Z(a.cols,h=>(V(),be(Ke,{key:h.name,props:a,style:{padding:"0","padding-left":"10px"}},{default:N(()=>[J(M(h.label),1)]),_:2},1032,["props"]))),128)),T(Ke,{"auto-width":""})]),_:2},1032,["props"])]),body:N(a=>[T(He,{props:a,onClick:h=>ce(h,a.row),"data-team-id":a.row.id,class:ta({"selecet-row":f.value===a.row.id})},{default:N(()=>[(V(!0),E(Y,null,Z(a.cols,h=>(V(),be(Ie,{key:h.name,props:a,style:{padding:"0","padding-left":"10px"}},{default:N(()=>[J(M(h.value),1)]),_:2},1032,["props"]))),128)),T(Ie,{"auto-width":"",class:"text-right"},{default:N(()=>[T(K,{size:"sm",color:"accent",round:"",dense:"",onClick:aa(h=>Ee(a.row.id),["stop"]),icon:a.expand||f.value===a.row.id?"remove":"add"},null,8,["onClick","icon"])]),_:2},1024)]),_:2},1032,["props","onClick","data-team-id","class"]),st(T(He,{props:a,class:"expand-content"},{default:N(()=>[T(Ie,{colspan:"100%"},{default:N(()=>[u("div",ol,[u("div",nl,[u("div",rl,[u("div",sl,[u("p",il,M(a.row.title),1)]),u("div",ul,[l[12]||(l[12]=u("p",{class:"description-title"},[u("strong",null,"Описание")],-1)),u("p",cl,M(a.row.description),1)])]),u("div",dl,[u("p",null,[l[13]||(l[13]=u("strong",null,"Тим-лидер:",-1)),J(" "+M(j.value[a.row.teamLeaderId]||"Загрузка..."),1)]),u("p",null,[l[14]||(l[14]=u("strong",null,"Дата создания:",-1)),J(" "+M(Q(a.row.createdAt)),1)]),u("p",null,[l[15]||(l[15]=u("strong",null,"Статус:",-1)),J(" "+M(a.row.currentProjectId?"В работе":"В поисках"),1)]),u("p",null,[l[16]||(l[16]=u("strong",null,"Приватность:",-1)),J(" "+M(q[a.row.status]||a.row.status),1)]),u("p",null,[l[17]||(l[17]=u("strong",null,"Количество участников:",-1)),J(" "+M(a.row.members.length+1),1)])])]),O.value[a.row.id]!=null&&O.value[a.row.id].length>0?(V(),E("div",vl,[u("div",fl,[l[18]||(l[18]=u("p",{class:"description",style:{"align-self":"center"}},"Стек технологий: ",-1)),(V(!0),E(Y,null,Z(O.value[a.row.id],h=>(V(),E("div",{key:h},[u("div",ml,[u("p",null,M(h),1)])]))),128))])])):(V(),E("div",gl,l[19]||(l[19]=[u("div",{class:"stack-panel"},[u("p",{class:"description"},"Стек отсутствует")],-1)]))),u("div",bl,[l[21]||(l[21]=u("p",{class:"members-title",style:{"text-align":"center"}},"Участники",-1)),u("div",yl,[j.value[a.row.teamLeaderId]?(V(),E("div",_l,[T(ra,{color:"accent",style:{"align-self":"center","margin-bottom":"10px"},class:"leader-badge"},{default:N(()=>l[20]||(l[20]=[J("Тим-лидер")])),_:1}),u("div",hl,[u("div",wl,[u("img",{src:G.value[a.row.teamLeaderId]||A.value,onError:h=>G.value[a.row.teamLeaderId]=A.value,class:"avatar-img"},null,40,Sl)]),u("div",kl,[u("p",Cl,M(j.value[a.row.teamLeaderId]),1),u("p",ql,M(L.value[a.row.teamLeaderId]||"Загрузка..."),1)])])])):it("",!0),(V(!0),E(Y,null,Z(a.row.members,h=>(V(),E("div",{class:"panel member-item",key:h},[u("div",pl,[u("div",Pl,[u("img",{src:G.value[h]||A.value,onError:Pe=>G.value[h]=A.value,class:"avatar-img"},null,40,xl)]),u("div",Rl,[u("p",Tl,M(D.value[h]||"Загрузка..."),1),u("p",Vl,M(L.value[h]||"Загрузка..."),1)])])]))),128))])]),!a.row.members.includes(ee(b).id)&&ee(b)?.id!=a.row.teamLeaderId&&!ie(a.row.id,a.row.teamLeaderId)&&a.row.status==="open"?(V(),be(K,{key:2,filled:"",color:"primary",label:"Подать заявку",onClick:h=>qe(a.row.id),style:{"border-radius":"10px","margin-left":"20px"}},null,8,["onClick"])):ie(a.row.id,a.row.teamLeaderId)?(V(),be(K,{key:3,outline:"",disable:"",color:"primary",label:ee(b).id===a.row.teamLeaderId?"Вы тим-лидер":"Заявка подана",style:{"border-radius":"10px","margin-left":"20px"}},null,8,["label"])):a.row.members.includes(ee(b).id)?(V(),be(K,{key:4,outline:"",disable:"",color:"primary",label:"Вы участник",style:{"border-radius":"10px","margin-left":"20px"}})):it("",!0)])]),_:2},1024)]),_:2},1032,["props"]),[[la,a.expand||f.value===a.row.id]])]),_:1},8,["rows","pagination"])])]),T(_a,{modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=a=>p.value=a),maximized:"","backdrop-filter":"blur(4px)","transition-show":"fade","transition-hide":"fade"},{default:N(()=>[T(ya,{flat:"",bordered:"",class:"team-edit-card",style:{"border-radius":"15px"}},{default:N(()=>[T(ba,null,{default:N(()=>[u("div",Ll,[l[22]||(l[22]=u("p",{class:"text-h5",style:{color:"#41789C"}},"Выберите стек",-1)),st(T(K,{flat:"",color:"primary",rounded:"",icon:"close"},null,512),[[ha]])]),u("div",Bl,[u("div",Fl,[u("div",$l,[l[23]||(l[23]=u("p",{class:"stack-category"},"ЯП",-1)),(V(!0),E(Y,null,Z(ee(Ve),a=>(V(),E("div",{key:a},[T(W,{modelValue:m.value[a],"onUpdate:modelValue":h=>m.value[a]=h,label:a},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))]),u("div",El,[l[24]||(l[24]=u("p",{class:"stack-category"},"Фреймворки",-1)),(V(!0),E(Y,null,Z(ee(Le),a=>(V(),E("div",{key:a},[T(W,{modelValue:m.value[a],"onUpdate:modelValue":h=>m.value[a]=h,label:a},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))]),u("div",Ol,[l[25]||(l[25]=u("p",{class:"stack-category"},"Базы данных",-1)),(V(!0),E(Y,null,Z(ee(Be),a=>(V(),E("div",{key:a},[T(W,{modelValue:m.value[a],"onUpdate:modelValue":h=>m.value[a]=h,label:a},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))]),u("div",jl,[l[26]||(l[26]=u("p",{class:"stack-category"},"DevOps",-1)),(V(!0),E(Y,null,Z(ee(Fe),a=>(V(),E("div",{key:a},[T(W,{modelValue:m.value[a],"onUpdate:modelValue":h=>m.value[a]=h,label:a},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(V(),E("div",Ga,"Нет данных о командах"))]))}}),vo=wa(Ul,[["__scopeId","data-v-7ac80987"]]);export{vo as default};
