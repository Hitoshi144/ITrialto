import{Q as _}from"./QSeparator-DCXVSXi9.js";import{Q as m}from"./QBtn-nCgHYuWN.js";import{Q as c}from"./QCardSection-Ct4B8z0C.js";import{Q as T}from"./QCard-Dri9TERK.js";import{Q as k}from"./QDialog-C0WFBzRC.js";import{C as D}from"./ClosePopup-BbmzLGBu.js";import{b as Q}from"./browser-DEm_zawB.js";import{a5 as S,r as V,z as h,d as B,k as b,H as O,m as $,b as f,e as o,t as y,F as j,g as L,q as N,o as g,f as t,v as q,w as i,x as E,l as F}from"./index-Mo4dBhOw.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-mFa0dIct.js";import"./vm-qSUGPvtL.js";import"./render-DXJ7UJne.js";import"./use-timeout-HZbuKFz0.js";import"./focusout-BuI3YoVi.js";import"./focus-manager-zjdVGI5d.js";const z=S("createTeamRequests",()=>{const a=V([]);return{requests:a,fetchRequests:async()=>{a.value=(await h.get("create-team-request/my")).data},deleteRequest:async r=>{await h.delete(`create-team-request/${r}`),a.value=a.value.filter(d=>d.id!==r)}}}),H={class:"i-member-teams-title"},M=["id"],P={class:"team-description",style:{"margin-top":"20px"}},U={class:"team-description",style:{"margin-top":"15px"}},A={style:{display:"flex","justify-content":"space-between","flex-direction":"row"}},G={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},J=B({__name:"CreateTeamRequests",props:{isDeleteDialogOpen:{type:Boolean}},emits:["update:isDeleteDialogOpen"],setup(a,{emit:x}){const n=N(),r=z(),d=b(()=>r.requests),C=async s=>{try{await r.deleteRequest(s),F.success("Заявка удалена")}catch(e){console.log(e.message)}},v=()=>{n.hash&&Q.nextTick(()=>{const s=document.querySelector(n.hash);s&&setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("highlight"),setTimeout(()=>{s.classList.remove("highlight")},2e3)},300)})},w=a,R=x,u=b({get:()=>w.isDeleteDialogOpen,set:s=>R("update:isDeleteDialogOpen",s)});return O(()=>n.hash,()=>{v()}),$(async()=>{await r.fetchRequests(),v()}),(s,e)=>(g(),f("div",null,[o("p",H,"Заявок на рассмотрении: "+y(d.value.length),1),(g(!0),f(j,null,L(d.value,l=>(g(),f("div",{key:l.id,id:`request-${l.id}`},[t(_),o("p",P,[e[3]||(e[3]=o("strong",null,"Название:",-1)),q(" "+y(l.title),1)]),o("p",U,[e[4]||(e[4]=o("strong",null,"Описание:",-1)),q(" "+y(l.description),1)]),t(m,{outline:"",label:"удалить заявку",style:{"border-radius":"10px","margin-top":"15px",display:"flex","justify-self":"flex-end","margin-bottom":"20px"},color:"primary",icon:"delete_forever",onClick:e[0]||(e[0]=p=>u.value=!0)}),t(k,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=p=>u.value=p),"backdrop-filter":"blur(4px)","transition-show":"fade","transition-hide":"fade"},{default:i(()=>[t(T,{flat:"",bordered:"",class:"team-edit-card",style:{"border-radius":"15px"}},{default:i(()=>[t(c,null,{default:i(()=>[o("div",A,[e[5]||(e[5]=o("p",{class:"text-h5",style:{color:"#41789C"}},"Удаление заявки",-1)),E(t(m,{flat:"",color:"primary",rounded:"",icon:"close"},null,512),[[D]])])]),_:1}),t(c,null,{default:i(()=>e[6]||(e[6]=[o("p",{class:"text-h6",style:{color:"#41789C","margin-left":"30px"}},"Вы уверены, что хотите удалить заявку на создание команды?",-1)])),_:1}),t(c,null,{default:i(()=>[o("div",G,[t(m,{outline:"",color:"negative",style:{"border-radius":"10px","margin-left":"20px"},label:"Да, удалить",onClick:p=>C(l.id)},null,8,["onClick"]),t(m,{filled:"",color:"primary",style:{"border-radius":"10px","margin-right":"20px"},label:"Нет, не удалять",onClick:e[1]||(e[1]=p=>u.value=!1)})])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])],8,M))),128))]))}}),ue=I(J,[["__scopeId","data-v-802d84d2"]]);export{ue as default};
