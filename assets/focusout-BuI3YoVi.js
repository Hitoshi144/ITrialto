import{v as _,b,d as A,e as V}from"./vm-qSUGPvtL.js";import{K as G,H as L,m as K,I as M,au as H,r as q,Q as x,a2 as I,G as F,D as U,av as j,k as O,ah as X,ak as D}from"./index-Mo4dBhOw.js";import{b as k,c as z}from"./focus-manager-zjdVGI5d.js";const ce={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},de=["beforeShow","show","beforeHide","hide"];function fe({showing:e,canShow:t,hideOnRouteChange:o,handleShow:l,handleHide:s,processOnMount:c}){const a=G(),{props:i,emit:r,proxy:h}=a;let u;function w(n){e.value===!0?E(n):g(n)}function g(n){if(i.disable===!0||n?.qAnchorHandled===!0||t!==void 0&&t(n)!==!0)return;const p=i["onUpdate:modelValue"]!==void 0;p===!0&&(r("update:modelValue",!0),u=n,M(()=>{u===n&&(u=void 0)})),(i.modelValue===null||p===!1)&&S(n)}function S(n){e.value!==!0&&(e.value=!0,r("beforeShow",n),l!==void 0?l(n):r("show",n))}function E(n){if(i.disable===!0)return;const p=i["onUpdate:modelValue"]!==void 0;p===!0&&(r("update:modelValue",!1),u=n,M(()=>{u===n&&(u=void 0)})),(i.modelValue===null||p===!1)&&$(n)}function $(n){e.value!==!1&&(e.value=!1,r("beforeHide",n),s!==void 0?s(n):r("hide",n))}function C(n){i.disable===!0&&n===!0?i["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!1):n===!0!==e.value&&(n===!0?S:$)(u)}L(()=>i.modelValue,C),o!==void 0&&_(a)===!0&&L(()=>h.$route.fullPath,()=>{o.value===!0&&e.value===!0&&E()}),K(()=>{C(i.modelValue)});const T={show:g,hide:E,toggle:w};return Object.assign(h,T),T}let B=1,Y=document.body;function J(e,t){const o=document.createElement("div");if(o.id=t!==void 0?`q-portal--${t}--${B++}`:e,H.globalNodes!==void 0){const l=H.globalNodes.class;l!==void 0&&(o.className=l)}return Y.appendChild(o),o}function R(e){e.remove()}const P=[];function pe(e){return P.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Z(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return b(e)}else if(e.__qPortal===!0){const o=b(e);return o?.$options.name==="QPopupProxy"?(e.hide(t),o):e}e=b(e)}while(e!=null)}function me(e,t,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=Z(e,t);continue}e.hide(t)}e=b(e)}}const ee=U({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function te(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function we(e,t,o,l){const s=q(!1),c=q(!1);let a=null;const i={},r=l==="dialog"&&te(e);function h(w){if(w===!0){k(i),c.value=!0;return}c.value=!1,s.value===!1&&(r===!1&&a===null&&(a=J(!1,l)),s.value=!0,P.push(e.proxy),z(i))}function u(w){if(c.value=!1,w!==!0)return;k(i),s.value=!1;const g=P.indexOf(e.proxy);g!==-1&&P.splice(g,1),a!==null&&(R(a),a=null)}return x(()=>{u(!0)}),e.proxy.__qPortal=!0,I(e.proxy,"contentEl",()=>t.value),{showPortal:h,hidePortal:u,portalIsActive:s,portalIsAccessible:c,renderPortal:()=>r===!0?o():s.value===!0?[F(j,{to:a},F(ee,o))]:void 0}}const ge={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function he(e,t=()=>{},o=()=>{}){return{transitionProps:O(()=>{const l=`q-transition--${e.transitionShow||t()}`,s=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${s}-leave-from`,leaveActiveClass:`${s}-leave-active`,leaveToClass:`${s}-leave-to`}}),transitionStyle:O(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const ve=[Element,String],oe=[null,document,document.body,document.scrollingElement,document.documentElement];function be(e,t){let o=A(t);if(o===void 0){if(e==null)return window;o=e.closest(".scroll,.scroll-y,.overflow-auto")}return oe.includes(o)?window:o}function Pe(e){return(e===window?document.body:e).scrollHeight}function ne(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Ee(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function N(e,t,o=0){const l=arguments[3]===void 0?performance.now():arguments[3],s=ne(e);if(o<=0){s!==t&&y(e,t);return}requestAnimationFrame(c=>{const a=c-l,i=s+(t-s)/Math.max(a,o)*a;y(e,i),i!==t&&N(e,t,o-a,c)})}function y(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function ye(e,t,o){if(o){N(e,t,o);return}y(e,t)}let v;function Se(){if(v!==void 0)return v;const e=document.createElement("p"),t=document.createElement("div");V(e,{width:"100%",height:"200px"}),V(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const o=e.offsetWidth;t.style.overflow="scroll";let l=e.offsetWidth;return o===l&&(l=t.clientWidth),t.remove(),v=o-l,v}function $e(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const d=[];let m;function le(e){m=e.keyCode===27}function ie(){m===!0&&(m=!1)}function se(e){m===!0&&(m=!1,X(e,27)===!0&&d[d.length-1](e))}function Q(e){window[e]("keydown",le),window[e]("blur",ie),window[e]("keyup",se),m=!1}function Ce(e){D.is.desktop===!0&&(d.push(e),d.length===1&&Q("addEventListener"))}function Te(e){const t=d.indexOf(e);t!==-1&&(d.splice(t,1),d.length===0&&Q("removeEventListener"))}const f=[];function W(e){f[f.length-1](e)}function Ve(e){D.is.desktop===!0&&(f.push(e),f.length===1&&document.body.addEventListener("focusin",W))}function Le(e){const t=f.indexOf(e);t!==-1&&(f.splice(t,1),f.length===0&&document.body.removeEventListener("focusin",W))}export{de as a,ce as b,he as c,fe as d,we as e,Se as f,be as g,Ve as h,Te as i,Z as j,Ce as k,pe as l,me as m,Pe as n,ne as o,P as p,ye as q,Le as r,ve as s,Ee as t,ge as u,$e as v};
